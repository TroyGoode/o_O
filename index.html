
<body>
<h1>o_O: funnyface.js</h1>
</body>


<script src='lib/o_O.js'></script>
<script src='lib/jQuery.js'></script>

<div id='person'>
  <h1>Person</h1>
  <p bind='text: name()'></p> 
  <p bind='text: surname()'></p>
  <p bind='text: fullName()'></p>
  <p bind='text: "fullName length: " + fullName().length'></p>
  <input bind='val: age()'></input>
  <input bind='value: surname; css: {color: color()};'></input>
  <p bind='css: {color: color()}'>HELLO</p>  
  <button bind='click: handleClick'>ok</button>
</div>


  
<script>

function Person(name, surname, age, color) {
  this.name    = o_O.property(name)
  this.surname = o_O.property(surname)
  this.age     = o_O.property(age)
  this.color   = o_O.property(color || 'red')
}

Person.prototype.fullName = function() {
  return this.name() + " " + this.surname()
}

Person.prototype.handleClick = function() {
  alert("yay!")
}

setInterval(function() {
  o.age(o.age()+1)
}, 1000)

setInterval(function() {
  o.name(Math.random() * 100)
}, 1000)


var o = new Person('Bobby', 'Reade', 30)

o_O.bind('#person', o)

</script> 


<h2>Persons</h2>

<div id='persons' bind='foreach: this'>
  <p>
    <s bind='text: name(); css: {color: color() }'></s> 
    <s bind='text: surname()'></s>
  </p>
</div>

<script>

var col = o_O.collection()
col.add( new Person('Bobby', 'Reado', 30 ) )
col.add( new Person('Bobby2', 'Readoo', 301, "green") )
o_O.bind('#persons', col)

col.add( new Person('ZZBobby', 'Reado', 30 ) )


col.remove(col.find(1))


</script>