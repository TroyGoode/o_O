<style>
body { font-family: arial}
code .keyword              { font-weight: bold }
code .string, code .regexp { color: green }
code .class, code .special { color: blue }
code .number               { color: pink }
code .comment              { color: grey }

h2 { 
  font-size: 15px
}
hr { border-top: 1px solid black}
.example {
  overflow: hidden;
  
}
.js, .html, .inner  {
  float: left;
  width: 33%;
};

</style>

<script src='../o_O.js'></script>
<script src='http://code.jquery.com/jquery-1.7.1.js'></script>




<h2>1. Simple Binding</h2>
<div id=example1 class=example>
<div class=inner>
<p bind='text: text'></p>
</div>
<script type='text/skip'>
o_O.bind({text: 'Hello World'}, '#example1')
</script>
</div>
<hr />


<h2>2. Auto updating</h2>
<div id=example2 class=example>
<div class=inner>
<p>
  <span>ms since 1st Jan 1970: </span>
  <span bind='text: this()'></span>
</p>
</div>
  <script type='text/skip'>
  var time = o_O.property()

  o_O.bind(time, '#example2')

  setInterval(function() {
    time(Date.now())
  }, 100)

  </script>
</div>


<hr />

<h2>3. Binding to inputs</h2>
<p>(try entering new name)</p>
<div id=example3 class=example> 
<div class=inner>
<input bind='value: name'></input>  
<p bind='text: name()'></p> 
</div>
  <script type='text/skip'>
  var person = { name: o_O.property('John') }

  o_O.bind(person, '#example3')
  </script>
</div>

<hr />

<h2>4. Checkbox</h2>
<div id=example4 class=example> 
<div class=inner>
<input type=checkbox bind='value: state'></input>  
<p bind='text: state()'></p> 
</div>
  <script type='text/skip'>
  var person = { state: o_O.property(true) }
  o_O.bind(person, '#example4')
  </script>
</div>

<hr />

<h2>5. Select</h2>
<div id=farm class=example> 
<div class=inner>
<select bind="value: animal; 
              options: ['pig', 'dog', 'cow']" >
</select>
<select bind="value: number; 
              options: {Ten: 10, Twenty: 20}" >
</select>
<p bind='text: number() + " " + animal() + "s" '></p>
</div>
  <script type='text/skip'>
  var farm = { 
    animal: o_O.property('cow'), 
    number: o_O.property(20) 
  }
  o_O.bind(farm, '#farm')
  </script>
</div>
<hr />



<h2>6. Complex dependencies</h2>
<div id=example6 class=example> 
<div class=inner>
<p bind='text: fullName()'></p>
<input bind='value: firstName'></input>
<input bind='value: secondName'></input>

</div>
<script type='text/skip'>
var person = {
  firstName: o_O.property("John"),
  secondName: o_O.property("Smith"),
  fullName: function() { 
    return this.firstName() + " " + this.secondName() 
  }
}
o_O.bind(person, '#example6')
</script>
</div>
<hr />





<script>

$('.example').each(function() {
  
  //script
  var js = $(this).find("script").html()
  var code = $("<code>", {html: js})
  $(this).prepend($("<pre class=js/>").append(code))
  
  var html = $.trim($(this).find('.inner').html().replace(/\</g, '&lt;'))
  $(this).prepend($("<pre class=html/>").append(html))
  eval(js)
})

</script>
<script src='https://raw.github.com/cloudhead/hijs/master/hijs.js'></script>